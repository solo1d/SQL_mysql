---
description: '1'
---

# 面试题

### 查询模型面试题

1.有个 mian 表, 其中有列为 num 是int类型,  里面存放了若干个值\(1 ~ 50之间\) ,  要求 : 将  20&lt;=num&lt;30  之间的值修改为20 ,  和 30 &lt;= num &lt;40  之间的值修改为 30 .   使用一条指令.

```sql
解:
mysql> UPDATE mian SET num=floor(num/10)*10     
        WHERE num>=20 AND num<=39;
# 主要思路是将num当初变量来看, int会发生截断,小数丢失,然后再乘10, 会得到整数.
# 故意挑选的两个值,  如果是其他的值, 那么可以使用  a AND a  OR b AND b;
# floor()是一个函数, 他会把括号中的值进行取整数,就是扔掉小数点. 
```



++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

2.有个学生成绩表 result  , 内容是下面表的表格  

| name | subject | score |
| :--- | :--- | :--- |
| 张三 | 数学 | 90 |
| 张三 | 语文 | 50 |
| 张三 | 地理 | 40 |
| 李四 | 语文 | 55 |
| 李四 | 政治 | 45 |
| 王五 | 政治 | 30 |
| 赵六 | 语文 | 100 |
| 赵六 | 数学 | 99 |
| 赵六 | 品德 | 98 |

 求挂科2门及以上  学生的平均分\(所有分数相加\).

```sql
解:
mysql> SELECT name,AVG(score) AS fen ,SUM(score<60) AS gks FROM result
        GROUP BY name 
         HAVING gks >=2;
#逆向思维思路, 首先求的所有学生的平均分, 然后再次求的每个同学挂了门课,
#然后使用学生名字进行分组, 最后求得挂科数大于2的 学生是哪几个.

#输出结果:
+--------+---------+------+
| name   | fen     | gks  |
+--------+---------+------+
| 张三   | 60.0000 |    2 |
| 李四   | 50.0000 |    2 |
+--------+---------+------+
```



++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++











++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

