# 如果mysql函数和C++函数都实现某个功能,则优先使用C++

## 缘由如下:

### 1.mysql的函数坑道要影响查询速度

**应该在建表时, 通过合理的表结构减少函数的使用.**

**比如** :   email   , 按 @ 前后拆分

### 2.如果确实要用函数

**比如  时间的格式化**

**在mysql里用 date\_format , 在C++里用date可以实现**

_**优先放在业务逻辑层, 即C++层**_

### 3.在查询时使用函数,最大的一个坏处

**以 date\_format\(A\) 为例**

_**则 A 列的索引将无法使用**_ 

**如果你针对某列查询, 而此列呢, 用上了函数来判断, 则此列将不再使用索引**

```sql
举例:   mysql> SELECT name,email FROM 表  WHERE RIGHT(position(emamil))='qq.com';
```

_**email 列是有索引的, 可以加快查询速度.**_

_**但是因为使用的并不是email列, 而是函数处理后的email的返回值,**_

_**因此email 列的查询速度的非常缓慢了.**_

### _**总结: WHERE条件中, 对某列使用了函数, 因此列的索引不发挥作用.**_









